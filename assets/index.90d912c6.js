import{a as c,j as i,r as d,F as B}from"./jsx-runtime.083328e7.js";import{A as m}from"./index.9fc12daf.js";import{s as l}from"./theme.8cc0ec2b.js";import{B as f}from"./index.099ccbb3.js";import{C as ae}from"./index.1a964cb9.js";import{I as se,c as ie}from"./index.6f0bf045.js";import{I as w}from"./index.a33962ee.js";import{C as le}from"./index.92239454.js";import{C as ce}from"./index.e42b602c.js";import{I as de}from"./index.c71cbb1f.js";import{M as k}from"./index.aa4dd4d5.js";import{T as M}from"./index.1d4d867d.js";const L=l("h2",{margin:0,typo:{size:20,weight:"$2",height:"$2"},color:"$black"}),z=l("p",{margin:0,typo:{},color:"$darkGrey"}),N=l("div",{display:"flex",flexDirection:"column",alignItems:"center",padding:"48px 0",[`& ${m.Container}`]:{marginBottom:"$4"},[`& ${L}`]:{marginBottom:8}}),pe=({name:n,description:e,image:r})=>c(N,{children:[i(m,{size:"large",image:r}),i(L,{children:n}),i(z,{children:e})]}),ue=Object.assign(pe,{Container:N,Title:L,Description:z});try{AssistantInfo.displayName="AssistantInfo",AssistantInfo.__docgenInfo={description:"",displayName:"AssistantInfo",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/AssistantInfo/index.tsx#AssistantInfo"]={docgenInfo:AssistantInfo.__docgenInfo,name:"AssistantInfo",path:"src/components/AssistantInfo/index.tsx#AssistantInfo"})}catch{}const K=l("footer",{padding:"$3 $4 0 $4",[`& ${se.Container}`]:{flex:1},[`& ${f.Base}`]:{width:"100%"}}),Y=l("aside",{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 0 $3 0",typo:{size:12,height:"17px"},color:"$darkGrey","& a":{marginLeft:"0.5ch",textDecoration:"none",color:"$primary","&:focus":{outline:0}}}),$=({isRunning:n,onStart:e,onSend:r})=>{const[t,a]=d.exports.useState("");return c(K,{children:[n?i(ae,{value:t,placeholder:"Message\u2026",autoFocus:!0,onValueChange:a,onSend:()=>{!t||(r==null||r(t),a(""))}}):i(f,{onClick:e,children:"Start New Chat"}),c(Y,{children:["Conversation \u26A1\uFE0F by",i("a",{target:"_blank",href:"https://voiceflow.com",rel:"noreferrer",children:"Voiceflow"})]})]})},me=Object.assign($,{Container:K,Watermark:Y});try{$.displayName="Footer",$.__docgenInfo={description:"",displayName:"Footer",props:{isRunning:{defaultValue:null,description:"",name:"isRunning",required:!1,type:{name:"boolean | undefined"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement> | undefined"}},onSend:{defaultValue:null,description:"",name:"onSend",required:!1,type:{name:"((message: string) => void) | undefined"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Footer/index.tsx#Footer"]={docgenInfo:$.__docgenInfo,name:"Footer",path:"src/components/Footer/index.tsx#Footer"})}catch{}const V=l("h1",{typo:{size:17,weight:"$2",height:"$2"},color:"rgba(255,255,255,0.95)"}),U=l("button",{display:"flex",justifyContent:"center",alignItems:"center",height:32,width:32,marginLeft:8,border:0,borderRadius:6,padding:0,background:"none",trans:["background-color"],"&:focus":{outline:0},"&:hover":{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.16)",[`& ${w.Frame}`]:{color:"$white"}},[`& ${w.Frame}`]:{height:"$xxs",width:"$xxs",color:"rgba(255,255,255,0.8)",trans:["color"]}}),D=l("header",{display:"flex",flexShrink:0,alignItems:"center",height:"$lg",padding:"0 $4 0 $5",backgroundColor:"$primary",boxShadow:"0 1px 2px $shadow16",[`& ${m.Container}`]:{height:32,width:32},[`& ${V}`]:{flex:1,marginLeft:14}}),x=({title:n,image:e,actions:r=[]})=>c(D,{children:[i(m,{image:e}),i(V,{children:n}),r.map(({svg:t,onClick:a},o)=>i(U,{onClick:a,children:i(w,{svg:t})},o))]}),fe=Object.assign(x,{Container:D,Title:V,Button:U});try{x.displayName="Header",x.__docgenInfo={description:"",displayName:"Header",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},actions:{defaultValue:{value:"[]"},description:"",name:"actions",required:!1,type:{name:"HeaderActionProps[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Header/index.tsx#Header"]={docgenInfo:x.__docgenInfo,name:"Header",path:"src/components/Header/index.tsx#Header"})}catch{}const G=l("div",{padding:"$4 $4 $3 $4",borderRadius:"$1",backgroundColor:"$white",boxShadow:"0 12px 48px 4px $shadow12",[`& ${f.Base}`]:{width:"100%",marginTop:"$1","&:first-of-type":{marginTop:0}}}),S=({accept:n,cancel:e})=>c(G,{children:[i(f.Primary,{...n,children:n.label}),i(f,{type:"subtle",...e,children:e.label})]}),W=Object.assign(S,{Container:G});try{S.displayName="Prompt",S.__docgenInfo={description:"",displayName:"Prompt",props:{accept:{defaultValue:null,description:"",name:"accept",required:!0,type:{name:"PromptOptionProps"}},cancel:{defaultValue:null,description:"",name:"cancel",required:!0,type:{name:"PromptOptionProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Prompt/index.tsx#Prompt"]={docgenInfo:S.__docgenInfo,name:"Prompt",path:"src/components/Prompt/index.tsx#Prompt"})}catch{}const he=(n=[])=>{const e=d.exports.useRef(null);return d.exports.useLayoutEffect(()=>{const r=e.current;if(!r)return;const{scrollTop:t,scrollHeight:a,clientHeight:o}=r,s=a-o;s!==t&&r.scrollTo({top:s})},n),e};var ge=globalThis&&globalThis.__spreadArray||function(n,e,r){if(r||arguments.length===2)for(var t=0,a=e.length,o;t<a;t++)(o||!(t in e))&&(o||(o=Array.prototype.slice.call(e,0,t)),o[t]=e[t]);return n.concat(o||Array.prototype.slice.call(e))};function ye(n,e,r){var t=n.length-e.length,a=Array.from(e);if(t===0)return n.apply(void 0,a);if(t===1){var o=function(s){return n.apply(void 0,ge([s],a,!1))};return(r||n.lazy)&&(o.lazy=r||n.lazy,o.lazyArgs=e),o}throw new Error("Wrong number of arguments")}function P(){return ye(Ce,arguments)}function Ce(n,e){var r=new Set(e);return Object.entries(n).reduce(function(t,a){var o=a[0],s=a[1];return r.has(o)||(t[o]=s),t},{})}const I=Symbol("@ts-pattern/matcher"),j="@ts-pattern/anonymous-select-key",F=n=>Boolean(n&&typeof n=="object"),T=n=>n&&!!n[I],C=(n,e,r)=>{if(F(n)){if(T(n)){const t=n[I](),{matched:a,selections:o}=t.match(e);return a&&o&&Object.keys(o).forEach(s=>r(s,o[s])),a}if(!F(e))return!1;if(Array.isArray(n))return!!Array.isArray(e)&&n.length===e.length&&n.every((t,a)=>C(t,e[a],r));if(n instanceof Map)return e instanceof Map&&Array.from(n.keys()).every(t=>C(n.get(t),e.get(t),r));if(n instanceof Set){if(!(e instanceof Set))return!1;if(n.size===0)return e.size===0;if(n.size===1){const[t]=Array.from(n.values());return T(t)?Array.from(e.values()).every(a=>C(t,a,r)):e.has(t)}return Array.from(n.values()).every(t=>e.has(t))}return Object.keys(n).every(t=>{const a=n[t];return(t in e||T(o=a)&&o[I]().matcherType==="optional")&&C(a,e[t],r);var o})}return Object.is(e,n)},_e=n=>new _(n,[]);class _{constructor(e,r){this.value=void 0,this.cases=void 0,this.value=e,this.cases=r}with(...e){const r=e[e.length-1],t=[e[0]],a=[];return e.length===3&&typeof e[1]=="function"?(t.push(e[0]),a.push(e[1])):e.length>2&&t.push(...e.slice(1,e.length-1)),new _(this.value,this.cases.concat([{match:o=>{let s={};const p=Boolean(t.some(h=>C(h,o,(O,E)=>{s[O]=E}))&&a.every(h=>h(o)));return{matched:p,value:p&&Object.keys(s).length?j in s?s[j]:s:o}},handler:r}]))}when(e,r){return new _(this.value,this.cases.concat([{match:t=>({matched:Boolean(e(t)),value:t}),handler:r}]))}otherwise(e){return new _(this.value,this.cases.concat([{match:r=>({matched:!0,value:r}),handler:e}])).run()}exhaustive(){return this.run()}run(){let e,r=this.value;for(let t=0;t<this.cases.length;t++){const a=this.cases[t],o=a.match(this.value);if(o.matched){r=o.value,e=a.handler;break}}if(!e){let t;try{t=JSON.stringify(this.value)}catch{t=this.value}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}return e(r,this.value)}}var u=(n=>(n.TEXT="text",n.IMAGE="image",n.CARD="card",n.CAROUSEL="carousel",n))(u||{});const b=l("span",{typo:{size:12,height:"17px"},color:"$darkGrey"}),X=l("div",{display:"flex",flexWrap:"wrap",marginBottom:"$5",padding:"0 $5 0 34px",[`& ${f.Base}`]:{marginTop:8,marginRight:8}}),J=l("div",{display:"flex",[`& ${m.Container}`]:{visibility:"hidden",alignSelf:"flex-end",margin:"7px 8px 7px 0"},[`& ${b}`]:{alignSelf:"center",marginLeft:"$3",whiteSpace:"nowrap",opacity:"0%",trans:["opacity"]},[`&:hover ${b}`]:{opacity:"100%"},variants:{withImage:{true:{[`& ${m.Container}`]:{visibility:"visible"}}},scrollable:{true:{overflowX:"scroll"}}}}),Q=l("div",{display:"flex",flexDirection:"column",[`& ${k.Container}`]:{marginBottom:"$1","&:last-of-type":{marginBottom:0}}}),$e=n=>{const e=new Date(n),r=e.getHours(),t=e.getMinutes();return`${r}:${t>=10?"":"0"}${t} ${r>=12?"pm":"am"}`},v=({image:n,timestamp:e,messages:r,actions:t=[]})=>c(B,{children:[r.map((a,o)=>c(J,{withImage:o===r.length-1,scrollable:a.type===u.CAROUSEL,children:[i(m,{image:n}),i(Q,{children:_e(a).with({type:u.TEXT},({text:s})=>i(k,{from:"system",children:s},o)).with({type:u.IMAGE},({url:s})=>i(de,{image:s})).with({type:u.CARD},s=>i(le,{...P(s,["type"])})).with({type:u.CAROUSEL},s=>i(ce,{...P(s,["type"])})).otherwise(()=>null)}),i(b,{children:$e(e)})]},o)),!!t.length&&i(X,{children:t.map(({label:a,onClick:o},s)=>i(f,{variant:"secondary",onClick:o,children:a},s))})]}),g=Object.assign(v,{Message:u,Container:J,List:Q,Timestamp:b,Actions:X});try{v.displayName="SystemResponse",v.__docgenInfo={description:"",displayName:"SystemResponse",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},timestamp:{defaultValue:null,description:"",name:"timestamp",required:!0,type:{name:"string"}},messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"MessageProps[]"}},actions:{defaultValue:{value:"[]"},description:"",name:"actions",required:!1,type:{name:"ResponseActionProps[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/index.tsx#SystemResponse"]={docgenInfo:v.__docgenInfo,name:"SystemResponse",path:"src/components/SystemResponse/index.tsx#SystemResponse"})}catch{}const Z=l("aside",{typo:{size:"12px",height:"17px"},color:"$darkGrey",marginTop:"$2"}),xe=l("div",{display:"inline-flex",flexDirection:"column",alignItems:"flex-end"}),ee=l("div",{display:"flex",justifyContent:"flex-end",[`& > ${M.Container}`]:{marginTop:"$1"}}),A=({message:n,debug:e})=>{var a,o;const r=d.exports.useRef(null),t=d.exports.useRef(null);return d.exports.useLayoutEffect(()=>{const s=r.current,p=t.current;!s||!p||(s.style.width=`${p.clientWidth}px`)},[n]),i(ee,{children:c(xe,{ref:r,children:[i(k,{from:"user",ref:t,children:n}),e&&c(B,{children:[i(Z,{children:e.message}),e.reason&&i(M,{label:(a=e.action)==null?void 0:a.label,onClick:(o=e.action)==null?void 0:o.onClick,orientation:"right",children:e.reason})]})]})})},y=Object.assign(A,{Container:ee,Debug:Z});try{A.displayName="UserResponse",A.__docgenInfo={description:"",displayName:"UserResponse",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},debug:{defaultValue:null,description:"",name:"debug",required:!1,type:{name:"DebugResponseProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/UserResponse/index.tsx#UserResponse"]={docgenInfo:A.__docgenInfo,name:"UserResponse",path:"src/components/UserResponse/index.tsx#UserResponse"})}catch{}const ne=l("article",{position:"relative",display:"flex",flexDirection:"column",width:380,borderRadius:"$2",overflow:"hidden",backgroundColor:"$white",boxShadow:"0 2px 48px rgba(19,33,68,0.12), 0 0 0 1px $shadow4",[`& ${W.Container}`]:{position:"absolute",bottom:0,width:"100%",boxSizing:"border-box",zIndex:1}}),te=l("div",{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:0,backgroundColor:"$shadow12"}),re=l("main",{overflowY:"scroll",overflowX:"hidden",[`
    & > ${y.Container},
    & > ${g.Container}
  `]:{padding:"0 $5"},[`& > ${g.Actions}`]:{padding:"0 $5 0 54px"},[`& ${g.Container}`]:{marginBottom:"$1","&:last-of-type":{marginBottom:0}},[`& ${y.Container} + ${y.Container}`]:{marginTop:"$1"},[`
    & ${g.Container} + ${y.Container},
    & ${y.Container} + ${g.Container}
  `]:{marginTop:"$5"}}),R=({isRunning:n,title:e,image:r,description:t,onMinimize:a,onEnd:o,onStart:s,onSend:p,children:h})=>{const O=he([d.exports.Children.count(h)]),[E,q]=d.exports.useState(!1),oe=()=>q(!0),H=()=>q(!1);return c(ne,{children:[i(fe,{title:e,image:r,actions:[{svg:"minus",onClick:a},{svg:"close",onClick:oe}]}),c(re,{ref:O,children:[i(ue,{name:e,image:r,description:t}),h]}),i(me,{isRunning:n,onStart:s,onSend:p}),E&&c(B,{children:[i(te,{}),i(W,{accept:{label:"End Chat",type:"warn",onClick:ie(o,H)},cancel:{label:"Cancel",onClick:H}})]})]})},Le=Object.assign(d.exports.memo(R),{Container:ne,Dialog:re,Overlay:te});try{R.displayName="Chat",R.__docgenInfo={description:"",displayName:"Chat",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},onMinimize:{defaultValue:null,description:"",name:"onMinimize",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"HeaderActionProps[]"}},isRunning:{defaultValue:null,description:"",name:"isRunning",required:!1,type:{name:"boolean | undefined"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement> | undefined"}},onSend:{defaultValue:null,description:"",name:"onSend",required:!1,type:{name:"((message: string) => void) | undefined"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Chat/index.tsx#Chat"]={docgenInfo:R.__docgenInfo,name:"Chat",path:"src/components/Chat/index.tsx#Chat"})}catch{}export{ue as A,Le as C,me as F,fe as H,_e as K,W as P,g as S,y as U,P as o};
//# sourceMappingURL=index.90d912c6.js.map
