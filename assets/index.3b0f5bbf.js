import{a as c,j as i,r as f,F as B}from"./jsx-runtime.dbde6215.js";import{A as p}from"./index.69db045e.js";import{s as l}from"./theme.3e970f26.js";import{B as u}from"./index.234dab3f.js";import{C as ae}from"./index.6fac9c5d.js";import{I as ie,c as se}from"./index.3ed0c918.js";import{I as w}from"./index.e70bda8b.js";import{C as le}from"./index.30f7921c.js";import{C as ce}from"./index.d1b92930.js";import{I as de}from"./index.31088c36.js";import{M as k}from"./index.55ffcd7d.js";import{T as z}from"./index.63f9ec45.js";const V=l("h2",{margin:0,typo:{size:20,weight:"$2",height:"$2"},color:"$black"}),F=l("p",{margin:0,typo:{},color:"$darkGrey"}),N=l("div",{display:"flex",flexDirection:"column",alignItems:"center",padding:"48px 0",[`& ${p.Container}`]:{marginBottom:"$4"},[`& ${V}`]:{marginBottom:8}}),pe=({name:n,description:e,image:r})=>c(N,{children:[i(p,{size:"large",image:r}),i(V,{children:n}),i(F,{children:e})]}),ue=Object.assign(pe,{Container:N,Title:V,Description:F});try{AssistantInfo.displayName="AssistantInfo",AssistantInfo.__docgenInfo={description:"",displayName:"AssistantInfo",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/AssistantInfo/index.tsx#AssistantInfo"]={docgenInfo:AssistantInfo.__docgenInfo,name:"AssistantInfo",path:"src/components/AssistantInfo/index.tsx#AssistantInfo"})}catch{}const K=l("footer",{padding:"$3 $4 0 $4",[`& ${ie.Container}`]:{flex:1},[`& ${u.Base}`]:{width:"100%"}}),Y=l("aside",{display:"flex",justifyContent:"center",alignItems:"center",padding:"10px 0 $3 0",typo:{size:12,height:"17px"},color:"$darkGrey","& a":{marginLeft:"0.5ch",textDecoration:"none",color:"$primary","&:focus":{outline:0}}}),S=({isRunning:n,onStart:e,onSend:r})=>{const[t,a]=f.exports.useState("");return c(K,{children:[n?i(ae,{value:t,placeholder:"Message\u2026",autoFocus:!0,onValueChange:a,onSend:()=>{!t||(r==null||r(t),a(""))}}):i(u,{onClick:e,children:"Start New Chat"}),c(Y,{children:["Conversation \u26A1\uFE0F by",i("a",{target:"_blank",href:"https://voiceflow.com",rel:"noreferrer",children:"Voiceflow"})]})]})},me=Object.assign(S,{Container:K,Watermark:Y});try{S.displayName="Footer",S.__docgenInfo={description:"",displayName:"Footer",props:{isRunning:{defaultValue:null,description:"",name:"isRunning",required:!1,type:{name:"boolean | undefined"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement> | undefined"}},onSend:{defaultValue:null,description:"",name:"onSend",required:!1,type:{name:"((message: string) => void) | undefined"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Footer/index.tsx#Footer"]={docgenInfo:S.__docgenInfo,name:"Footer",path:"src/components/Footer/index.tsx#Footer"})}catch{}const L=l("h1",{typo:{size:17,weight:"$2",height:"$2"},color:"rgba(255,255,255,0.95)"}),U=l("button",{display:"flex",justifyContent:"center",alignItems:"center",height:32,width:32,marginLeft:8,border:0,borderRadius:6,padding:0,background:"none",trans:["background-color"],"&:focus":{outline:0},"&:hover":{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.16)",[`& ${w.Frame}`]:{color:"$white"}},[`& ${w.Frame}`]:{height:"$xxs",width:"$xxs",color:"rgba(255,255,255,0.8)",trans:["color"]}}),D=l("header",{display:"flex",flexShrink:0,alignItems:"center",height:"$lg",padding:"0 $4 0 $5",backgroundColor:"$primary",boxShadow:"0 1px 2px $shadow16",[`& ${p.Container}`]:{height:32,width:32},[`& ${L}`]:{flex:1,marginLeft:14}}),$=({title:n,image:e,actions:r=[]})=>c(D,{children:[i(p,{image:e}),i(L,{children:n}),r.map(({svg:t,onClick:a},o)=>i(U,{onClick:a,children:i(w,{svg:t})},o))]}),fe=Object.assign($,{Container:D,Title:L,Button:U});try{$.displayName="Header",$.__docgenInfo={description:"",displayName:"Header",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},actions:{defaultValue:{value:"[]"},description:"",name:"actions",required:!1,type:{name:"HeaderActionProps[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Header/index.tsx#Header"]={docgenInfo:$.__docgenInfo,name:"Header",path:"src/components/Header/index.tsx#Header"})}catch{}const G=l("div",{padding:"$4 $4 $3 $4",borderRadius:"$1",backgroundColor:"$white",boxShadow:"0 12px 48px 4px $shadow12",[`& ${u.Base}`]:{width:"100%",marginTop:"$1","&:first-of-type":{marginTop:0}}}),x=({accept:n,cancel:e})=>c(G,{children:[i(u.Primary,{...n,children:n.label}),i(u,{type:"subtle",...e,children:e.label})]}),X=Object.assign(x,{Container:G});try{x.displayName="Prompt",x.__docgenInfo={description:"",displayName:"Prompt",props:{accept:{defaultValue:null,description:"",name:"accept",required:!0,type:{name:"PromptOptionProps"}},cancel:{defaultValue:null,description:"",name:"cancel",required:!0,type:{name:"PromptOptionProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Prompt/index.tsx#Prompt"]={docgenInfo:x.__docgenInfo,name:"Prompt",path:"src/components/Prompt/index.tsx#Prompt"})}catch{}const he=(n=[])=>{const e=f.exports.useRef(null);return f.exports.useLayoutEffect(()=>{const r=e.current;if(!r)return;const{scrollTop:t,scrollHeight:a,clientHeight:o}=r,s=a-o;s!==t&&r.scrollTo({top:s})},n),e};var ge=globalThis&&globalThis.__spreadArray||function(n,e,r){if(r||arguments.length===2)for(var t=0,a=e.length,o;t<a;t++)(o||!(t in e))&&(o||(o=Array.prototype.slice.call(e,0,t)),o[t]=e[t]);return n.concat(o||Array.prototype.slice.call(e))};function ye(n,e,r){var t=n.length-e.length,a=Array.from(e);if(t===0)return n.apply(void 0,a);if(t===1){var o=function(s){return n.apply(void 0,ge([s],a,!1))};return(r||n.lazy)&&(o.lazy=r||n.lazy,o.lazyArgs=e),o}throw new Error("Wrong number of arguments")}function P(){return ye(Ce,arguments)}function Ce(n,e){var r=new Set(e);return Object.entries(n).reduce(function(t,a){var o=a[0],s=a[1];return r.has(o)||(t[o]=s),t},{})}const I=Symbol("@ts-pattern/matcher"),j="@ts-pattern/anonymous-select-key",M=n=>Boolean(n&&typeof n=="object"),T=n=>n&&!!n[I],y=(n,e,r)=>{if(M(n)){if(T(n)){const t=n[I](),{matched:a,selections:o}=t.match(e);return a&&o&&Object.keys(o).forEach(s=>r(s,o[s])),a}if(!M(e))return!1;if(Array.isArray(n))return!!Array.isArray(e)&&n.length===e.length&&n.every((t,a)=>y(t,e[a],r));if(n instanceof Map)return e instanceof Map&&Array.from(n.keys()).every(t=>y(n.get(t),e.get(t),r));if(n instanceof Set){if(!(e instanceof Set))return!1;if(n.size===0)return e.size===0;if(n.size===1){const[t]=Array.from(n.values());return T(t)?Array.from(e.values()).every(a=>y(t,a,r)):e.has(t)}return Array.from(n.values()).every(t=>e.has(t))}return Object.keys(n).every(t=>{const a=n[t];return(t in e||T(o=a)&&o[I]().matcherType==="optional")&&y(a,e[t],r);var o})}return Object.is(e,n)},_e=n=>new C(n,[]);class C{constructor(e,r){this.value=void 0,this.cases=void 0,this.value=e,this.cases=r}with(...e){const r=e[e.length-1],t=[e[0]],a=[];return e.length===3&&typeof e[1]=="function"?(t.push(e[0]),a.push(e[1])):e.length>2&&t.push(...e.slice(1,e.length-1)),new C(this.value,this.cases.concat([{match:o=>{let s={};const _=Boolean(t.some(m=>y(m,o,(O,E)=>{s[O]=E}))&&a.every(m=>m(o)));return{matched:_,value:_&&Object.keys(s).length?j in s?s[j]:s:o}},handler:r}]))}when(e,r){return new C(this.value,this.cases.concat([{match:t=>({matched:Boolean(e(t)),value:t}),handler:r}]))}otherwise(e){return new C(this.value,this.cases.concat([{match:r=>({matched:!0,value:r}),handler:e}])).run()}exhaustive(){return this.run()}run(){let e,r=this.value;for(let t=0;t<this.cases.length;t++){const a=this.cases[t],o=a.match(this.value);if(o.matched){r=o.value,e=a.handler;break}}if(!e){let t;try{t=JSON.stringify(this.value)}catch{t=this.value}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}return e(r,this.value)}}var d=(n=>(n.TEXT="text",n.IMAGE="image",n.CARD="card",n.CAROUSEL="carousel",n))(d||{});const b=l("span",{typo:{size:12,height:"17px"},color:"$darkGrey"}),W=l("div",{display:"flex",flexWrap:"wrap",marginBottom:"$5",padding:"0 $5 0 34px",[`& ${u.Base}`]:{marginTop:8,marginRight:8}}),J=l("div",{display:"flex",[`& ${p.Container}`]:{visibility:"hidden",alignSelf:"flex-end",margin:"7px 8px 7px 0"},[`& ${b}`]:{alignSelf:"center",marginLeft:"$3",whiteSpace:"nowrap",opacity:"0%",trans:["opacity"]},[`&:hover ${b}`]:{opacity:"100%"},variants:{withImage:{true:{[`& ${p.Container}`]:{visibility:"visible"}}},scrollable:{true:{overflowX:"scroll"}}}}),Q=l("div",{display:"flex",flexDirection:"column",[`& ${k.Container}`]:{marginBottom:"$1","&:last-of-type":{marginBottom:0}}}),Se=n=>{const e=new Date(n),r=e.getHours(),t=e.getMinutes();return`${r}:${t>=10?"":"0"}${t} ${r>=12?"pm":"am"}`},A=({image:n,timestamp:e,messages:r,actions:t=[]})=>c(B,{children:[r.map((a,o)=>c(J,{withImage:o===r.length-1,scrollable:a.type===d.CAROUSEL,children:[i(p,{image:n}),i(Q,{children:_e(a).with({type:d.TEXT},({text:s})=>i(k,{from:"system",children:s},o)).with({type:d.IMAGE},({url:s})=>i(de,{image:s})).with({type:d.CARD},s=>i(le,{...P(s,["type"])})).with({type:d.CAROUSEL},s=>i(ce,{...P(s,["type"])})).otherwise(()=>null)}),i(b,{children:Se(e)})]},o)),!!t.length&&i(W,{children:t.map(({label:a,onClick:o},s)=>i(u,{variant:"secondary",onClick:o,children:a},s))})]}),h=Object.assign(A,{Message:d,Container:J,List:Q,Timestamp:b,Actions:W});try{A.displayName="SystemResponse",A.__docgenInfo={description:"",displayName:"SystemResponse",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},timestamp:{defaultValue:null,description:"",name:"timestamp",required:!0,type:{name:"string"}},messages:{defaultValue:null,description:"",name:"messages",required:!0,type:{name:"MessageProps[]"}},actions:{defaultValue:{value:"[]"},description:"",name:"actions",required:!1,type:{name:"ResponseActionProps[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/SystemResponse/index.tsx#SystemResponse"]={docgenInfo:A.__docgenInfo,name:"SystemResponse",path:"src/components/SystemResponse/index.tsx#SystemResponse"})}catch{}const Z=l("aside",{typo:{size:"12px",height:"17px"},color:"$darkGrey",marginTop:"$2"}),ee=l("div",{display:"flex",flexDirection:"column",alignItems:"flex-end",[`& > ${z.Container}`]:{marginTop:"$1"}}),v=({message:n,debug:e})=>{var r,t;return c(ee,{children:[i(k,{from:"user",children:n}),e&&c(B,{children:[i(Z,{children:e.message}),e.reason&&i(z,{label:(r=e.action)==null?void 0:r.label,onClick:(t=e.action)==null?void 0:t.onClick,orientation:"right",children:e.reason})]})]})},g=Object.assign(v,{Container:ee,Debug:Z});try{v.displayName="UserResponse",v.__docgenInfo={description:"",displayName:"UserResponse",props:{message:{defaultValue:null,description:"",name:"message",required:!0,type:{name:"string"}},debug:{defaultValue:null,description:"",name:"debug",required:!1,type:{name:"DebugResponseProps"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/UserResponse/index.tsx#UserResponse"]={docgenInfo:v.__docgenInfo,name:"UserResponse",path:"src/components/UserResponse/index.tsx#UserResponse"})}catch{}const ne=l("article",{position:"relative",display:"flex",flexDirection:"column",width:380,borderRadius:"$2",overflow:"hidden",backgroundColor:"$white",boxShadow:"0 2px 48px rgba(19,33,68,0.12), 0 0 0 1px $shadow4",[`& ${X.Container}`]:{position:"absolute",bottom:0,width:"100%",boxSizing:"border-box",zIndex:1}}),te=l("div",{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:0,backgroundColor:"$shadow12"}),re=l("main",{overflowY:"scroll",overflowX:"hidden",[`
    & > ${g.Container},
    & > ${h.Container}
  `]:{padding:"0 $5"},[`& > ${h.Actions}`]:{padding:"0 $5 0 54px"},[`& ${h.Container}`]:{marginBottom:"$1","&:last-of-type":{marginBottom:0}},[`& ${g.Container} + ${g.Container}`]:{marginTop:"$1"},[`
    & ${h.Container} + ${g.Container},
    & ${g.Container} + ${h.Container}
  `]:{marginTop:"$5"}}),R=({isRunning:n,title:e,image:r,description:t,onMinimize:a,onEnd:o,onStart:s,onSend:_,children:m})=>{const O=he([f.exports.Children.count(m)]),[E,q]=f.exports.useState(!1),oe=()=>q(!0),H=()=>q(!1);return c(ne,{children:[i(fe,{title:e,image:r,actions:[{svg:"minus",onClick:a},{svg:"close",onClick:oe}]}),c(re,{ref:O,children:[i(ue,{name:e,image:r,description:t}),m]}),i(me,{isRunning:n,onStart:s,onSend:_}),E&&c(B,{children:[i(te,{}),i(X,{accept:{label:"End Chat",type:"warn",onClick:se(o,H)},cancel:{label:"Cancel",onClick:H}})]})]})},ke=Object.assign(f.exports.memo(R),{Container:ne,Dialog:re,Overlay:te});try{R.displayName="Chat",R.__docgenInfo={description:"",displayName:"Chat",props:{description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},onMinimize:{defaultValue:null,description:"",name:"onMinimize",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},actions:{defaultValue:null,description:"",name:"actions",required:!1,type:{name:"HeaderActionProps[]"}},isRunning:{defaultValue:null,description:"",name:"isRunning",required:!1,type:{name:"boolean | undefined"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement> | undefined"}},onSend:{defaultValue:null,description:"",name:"onSend",required:!1,type:{name:"((message: string) => void) | undefined"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Chat/index.tsx#Chat"]={docgenInfo:R.__docgenInfo,name:"Chat",path:"src/components/Chat/index.tsx#Chat"})}catch{}export{ue as A,ke as C,me as F,fe as H,_e as K,X as P,h as S,g as U,P as o};
//# sourceMappingURL=index.3b0f5bbf.js.map
